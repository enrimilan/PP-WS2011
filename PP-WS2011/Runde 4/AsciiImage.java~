public class AsciiImage {
	private int height  ;
	private int width  ;
	private String image ;
	
	public AsciiImage(){
		height=0;
		width=0;
		image="";
	}
	
	public boolean addLine(String line){
		if((getWidth()==0)&&(getHeight()==0)){
			if(line.length()<1){
				return false ;
			}
			width=line.length();
			
		}
		if(line.length()==width){
			image = image+line;
			height++;
			return true ;
			
		}
		if(line.length()!=width){
			return false ;
		}
		else {
			return true ;
		}
	}
	
	public int getWidth(){
		return width;
	}
	
	public int getHeight(){
		return height;
	}
	
	public String toString(){
		String out="";
		for(int i = 0 ; i <getHeight();i++){
			out = out + image.substring(i*getWidth(),i*getWidth()+getWidth())+"\n";
		}
		return out.trim() ;
	}
	
	public int getUniqueChars(){
		int unique=0;
		String temp ="";
		for(int i =0 ; i<image.length(); i++){
			if(!temp.contains(""+image.charAt(i))){
				temp=temp+image.charAt(i);
				unique++;
			}
		}
		return unique ;
	}
	
	public void flipV(){
		String temp="";
		for(int i = getHeight()-1 ; i>=0 ;i--){
			temp = temp + image.substring(i*getWidth(),i*getWidth()+getWidth());
		}	
		image=temp ;
        }
        
        private char getPixel(int x, int y){
        	String row = image.substring(y*getWidth(),y*getWidth()+getWidth());
        	return row.charAt(x);
        }
        
        public void transpose(){
        	String temp="";
        	for(int x = 0 ; x < getWidth() ; x++){
        		for(int y = 0 ; y < getHeight(); y++){
        			temp=temp+getPixel(x,y);
        		}
        		
        		
        	}
        	int tempHeight = height;
        	height = width;
        	width = tempHeight;
        	
        	image=temp;
        }
        
        
        
	/*Ersetzt das Zeichen an der Position (x,y) mit dem Zeichen c und ruft sich ggfs. 
	selbst rekursiv auf (mit neuen Werten von (x,y) die den Nachbarpositionen entsprechen).*/
	public void fill( int x, int y, char c){
		String row = image.substring(y*getWidth(),y*getWidth()+getWidth());
		char z = row.charAt(x);//Das zu ersetzende Zeichen.
		row=row.substring(0,x)+c+row.substring(x+1,width);//Ersetzen des Zeichens.
		image=image.substring(0,y*getWidth())+row+image.substring(y*getWidth()+getWidth(),image.length());
		if(y+1<=getHeight()-1){
			if(getPixel(x,y+1)==z){
				fill(x , y+1 , c);
			}
		}
		
		if(y-1>=0){
			if(getPixel(x,y-1)==z){
				fill(x , y-1 , c);	
			}
		}
		
		if(x+1<=getWidth()-1){
			if(getPixel(x+1,y)==z){
				fill(x+1 , y , c);	
			}
		}
		
		if(x-1>=0){
			if(getPixel(x-1,y)==z){
				fill(x-1 , y , c);	
			}
		}
	}
        
        public boolean isSymmetricH(){
        	boolean symmetrisch = true ;
        	for(int i = 0 ; i < getHeight() ; i++){
        		if(symmetrisch==true){
        			String row = image.substring(i*getWidth(),i*getWidth()+getWidth());
        			int a = 0;
        			int b = row.length()-1;
        			while(a<b){
        				if(row.charAt(a)==row.charAt(b)){
        					a++;
        					b--;
        				}
        				else {
        					symmetrisch=false ;
        					break ;
        				}
        			}
        		}
        		else {
        			break ;
        		}
        	}
        	return symmetrisch;
        }	
	
}
